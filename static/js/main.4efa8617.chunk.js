(window.webpackJsonpimage_processing=window.webpackJsonpimage_processing||[]).push([[0],{13:function(e,a,t){},14:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),r=t(2),o=t.n(r),s=t(3),l=t(4),c=t(6),g=t(5),m=t(7),d=(t(13),window.cv);function h(e,a,t){console.log(d),this.image=document.getElementById(e),this.file=document.getElementById(a),this.canvas=t}h.prototype.addListener=function(){this.file.addEventListener("change",this.loadData.bind(this),!1)},h.prototype.loadData=function(e){e.target.files[0]&&(this.image.src=URL.createObjectURL(e.target.files[0]),this.loadImageToCanvas())},h.prototype.removeListener=function(){this.file.removeEventListener("change",this.loadData.bind(this),!1)},h.prototype.negativeCanvas=function(){this.loadOriginalCanvas();for(var e=document.getElementById("image_canvas"),a=e.getContext("2d"),t=a.getImageData(0,0,e.width,e.height),n=t.data,i=0;i<n.length;i+=4)n[i]=255-n[i],n[i+1]=255-n[i+1],n[i+2]=255-n[i+2];a.putImageData(t,0,0)},h.prototype.logTransform=function(){this.loadOriginalCanvas();for(var e=document.getElementById("image_canvas"),a=e.getContext("2d"),t=a.getImageData(0,0,e.width,e.height),n=t.data,i=0;i<n.length;i+=4)n[i]=200*Math.log10(n[i]+1),n[i+1]=200*Math.log10(n[i+1]+1),n[i+2]=200*Math.log10(n[i+2]+1);a.putImageData(t,0,0)},h.prototype.flip=function(e,a){var t=document.getElementById("image_canvas"),n=t.getContext("2d"),i=(n.getImageData(0,0,t.width,t.height),t.width),r=t.height,o=e?-1:1,s=a?-1:1,l=e?-1*i:0,c=a?-1*r:0;n.save(),n.scale(o,s),n.drawImage(this.image,l,c,i,r),n.restore()},h.prototype.contrastCanvas=function(e){this.loadOriginalCanvas();for(var a=e,t=document.getElementById("image_canvas"),n=t.getContext("2d"),i=n.getImageData(0,0,t.width,t.height),r=i.data,o=128*(1-(a=a/100+1)),s=0;s<r.length;s+=4)r[s]=r[s]*a+o,r[s+1]=r[s+1]*a+o,r[s+2]=r[s+2]*a+o;n.putImageData(i,0,0)},h.prototype.brightnessCanvas=function(e){this.loadOriginalCanvas();var a=document.getElementById("image_canvas"),t=a.getContext("2d"),n=t.getImageData(0,0,a.width,a.height);t.filter="brightness(".concat(e,"%)"),t.putImageData(n,0,0)},h.prototype.loadImageToCanvas=function(){this.image.onload=function(){var e=document.getElementById("image_canvas");e.getContext("2d").drawImage(this,0,0,e.width,e.height)}},h.prototype.loadOriginalCanvas=function(){var e=document.getElementById("image_canvas");e.getContext("2d").drawImage(this.image,0,0,e.width,e.height)},h.prototype.grayscale=function(){var e=d.imread(this.image);d.cvtColor(e,e,d.COLOR_RGB2GRAY),d.imshow("image_canvas",e),e.delete()},h.prototype.filter=function(){var e=d.imread(this.image),a=new d.Mat,t=d.Mat.eye(3,3,d.CV_32FC1),n=new d.Point(-1,-1);d.filter2D(e,a,d.CV_8U,t,n,0,d.BORDER_DEFAULT),d.imshow("image_canvas",a),e.delete(),a.delete(),t.delete()},h.prototype.cannyEdgeDetection=function(){var e=d.imread(this.image),a=new d.Mat;d.cvtColor(e,e,d.COLOR_RGB2GRAY,0),d.Canny(e,a,50,100,3,!1),d.imshow("image_canvas",a),e.delete(),a.delete()},h.prototype.blurByAveraging=function(){var e=d.imread(this.image),a=new d.Mat,t=new d.Size(10,10),n=new d.Point(-1,-1);d.blur(e,a,t,n,d.BORDER_DEFAULT),d.imshow("image_canvas",a),e.delete(),a.delete()},h.prototype.gaussianBlur=function(){var e=d.imread(this.image),a=new d.Mat,t=new d.Size(3,3);d.GaussianBlur(e,a,t,0,0,d.BORDER_DEFAULT),d.imshow("image_canvas",a),e.delete(),a.delete()},h.prototype.medianBlurring=function(){var e=d.imread(this.image),a=new d.Mat;d.medianBlur(e,a,5),d.imshow("image_canvas",a),e.delete(),a.delete()},h.prototype.negative=function(){var e=d.imread(this.image),a=new d.Mat;d.bitwise_not(e,a),d.imshow("image_canvas",a),e.delete(),a.delete()},h.prototype.histogram=function(){var e=d.imread(this.image);d.cvtColor(e,e,d.COLOR_RGBA2GRAY,0);var a=new d.MatVector;a.push_back(e);var t=[256],n=new d.Mat,i=new d.Mat,r=new d.Scalar(255,255,255);d.calcHist(a,[0],i,n,t,[0,255],!1);for(var o=d.minMaxLoc(n,i).maxVal,s=new d.Mat.zeros(e.rows,2*t[0],d.CV_8UC3),l=0;l<t[0];l++){var c=n.data32F[l]*e.rows/o,g=new d.Point(2*l,e.rows-1),m=new d.Point(2*(l+1)-1,e.rows-c);d.rectangle(s,g,m,r,d.FILLED)}d.imshow("image_canvas",s),e.delete(),s.delete(),a.delete(),i.delete(),n.delete()},h.prototype.crop=function(){var e=d.imread(this.image),a=new d.Mat,t=new d.Rect(80,80,100,100);a=e.roi(t),d.imshow("image_canvas",a),e.delete(),a.delete()},h.prototype.action=function(e,a){if(""!=this.image.src)switch(e){case"Original":this.loadOriginalCanvas();break;case"Grayscale":this.grayscale();break;case"Median Blur":this.medianBlurring();break;case"Gaussian Blur":this.gaussianBlur();break;case"Blur By Average":this.blurByAveraging();break;case"Canny Edge Detection":this.cannyEdgeDetection();break;case"Histogram":this.histogram();break;case"Filter":this.filter();break;case"Crop":this.crop();break;case"Negative":this.negativeCanvas();break;case"Contrast":this.contrastCanvas(a);break;case"Logarithm Transform":this.logTransform();break;case"Brightness":this.brightnessCanvas(a);break;case"Flip Horizontal":case"Mirror":this.flip(!0,!1);break;case"Flip Vertical":this.flip(!1,!0);break;case"Flip Horizontal and Vertical":this.flip(!0,!0)}};var u=h,v=["Original","Grayscale","Canny Edge Detection","Filter","Negative","Median Blur","Gaussian Blur","Blur By Average","Histogram","Mirror","Crop","Logarithm Transform","Flip Horizontal","Flip Vertical","Flip Horizontal and Vertical"],p=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(c.a)(this,Object(g.a)(a).call(this,e))).handleChange=function(e){t.ocv.action(e.target.value)},t.handleSlider=function(e,a){console.log(e.target.value,a),t.ocv.action(a,e.target.value)},t}return Object(m.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.ocv=new u("image_input","file_input","image_canvas"),this.ocv.addListener()}},{key:"componentWillUnmount",value:function(){this.ocv.removeListener()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"app_container"},i.a.createElement("div",{className:"image_closet"},i.a.createElement("img",{id:"image_input"}),i.a.createElement("input",{type:"file",id:"file_input"})),i.a.createElement("div",{className:"canvas_ground"},i.a.createElement("div",{className:"canvas"},i.a.createElement("canvas",{id:"image_canvas"}),i.a.createElement("div",null,i.a.createElement("label",null,"Brightness"),i.a.createElement("input",{type:"range",min:"0",max:"300",className:"slider",id:"myRange",onChange:function(a){return e.handleSlider(a,"Brightness")}})),i.a.createElement("div",null,i.a.createElement("label",null,"Contrast"),i.a.createElement("input",{type:"range",min:"-100",max:"100",className:"slider",id:"myRange",onChange:function(a){return e.handleSlider(a,"Contrast")}}))),i.a.createElement("div",{className:"image_processing"},i.a.createElement("h1",null,"Image Processing"),i.a.createElement("div",{className:"action_menu"},v.map(function(a,t){return i.a.createElement("div",{key:t},i.a.createElement("input",{type:"radio",name:"action",value:a,onChange:e.handleChange}),i.a.createElement("label",null,a))})))))}}]),a}(i.a.Component);o.a.render(i.a.createElement(p,null),document.getElementById("root"))},8:function(e,a,t){e.exports=t(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.4efa8617.chunk.js.map